# 클로저(Closure)에 대해서 설명해주세요.

## 1. 질문의 의도

자바스크립트에서 중요한 개념인 클로저에 대해 알고있는가?

## 2. 개념

스코프는 함수를 호출할 때가 아니라 함수를 어디에 선언하였는지에 따라 결정된다. 이를 렉시컬 스코핑이라 한다.

클로저는 반환된 내부함수가 자신이 선언됐을 때의 환경인(렉시컬) 스코프를 기억하여 자신이 선언됐을 때의 환경(스코프) 밖에서 호출되어도 그 환경(스코프)에 접근할 수 있는 함수를 말한다. 즉, 클로저는 자신이 생성될 때의 환경을 기억하는 함수다

```js
function outerFunc() {
  var x = 10;
  var innerFunc = function () {
    console.log(x);
  };
  return innerFunc;
}
/**
 * 함수 outerFunc를 호출하면 내부 함수 innerFunc가 반환된다.
 * 그리고 함수 outerFunc의 실행 컨텐스트는 소멸한다.
 */

var inner = outerFunc();
inner(); //10
```

함수 outerFunc는 내부함수 innerFunc를 반환하고 생을 마감했다. 즉, 함수 outerFunc는 실행된 이후 콜스택(실행 컨텍스트 스택)에서 제거되었으므로 함수 outerFunc의 변수 x 또한 더이상 유효하지 않게 되어야한다. 그러나 위 코드의 실행 결과는 변수 x의 값인 10이다. 이러한 현상이 일어나는 이유는 외부함수보다 내부함수가 더 오래 유지되는 경우, 외부 함수 밖에서 내부함수가 호출되더라도 외부함수의 지역 변수에 접근할 수 있는데 이러한 함수를 클로저라고 한다.

개발자 도구에서 sources를 누르면 scope를 확인할 수 있는데, 직접 외부함수 내부함수를 작성해보면 클로저를 확인할 수 있다.(클로저 스코프가 나온다.) 여기서 볼때 외부함수를 내부함수의 클로저 함수라고 보는 것 같다.

## 3. 대답

자바스크립트에서 스코프는 함수를 호출할 때가 아니라 선언할 때 결정이 됩니다. 이를 렉시컬 스코핑이라고합니다. 클로저는 반환된 내부함수가 자신이 선언됐을 떄의 환경인 렉시컬 스코프를 기억하여 자신이 선언된 환경(스코프) 밖에서 호출이 되어도 그 환경(스코프)에 접근할 수 있는 함수를 말합니다. 즉, 클로저는 자신이 생성될 때의 환경을 기억하는 함수입니다. 그래서 자신이 선언될 때의 외부함수의 지역변수에 접근이 가능합니다.

# 출처

- https://poiemaweb.com/js-closure

#
